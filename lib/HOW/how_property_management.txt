# ë§¤ë¬¼ ê´€ë¦¬ í”„ë¡œì„¸ìŠ¤ ìƒì„¸ ë¶„ì„

## ğŸ  ë§¤ë¬¼ ê´€ë¦¬ ì „ì²´ íë¦„

### 1. ë§¤ë¬¼ ì €ì¥ ë‹¨ê³„ (HomePage)

#### 1.1 ë§¤ë¬¼ ì €ì¥ í•¨ìˆ˜ (lib/screens/home_page.dart ë¼ì¸ 120-160)
```dart
// ë“±ê¸°ë¶€ë“±ë³¸ ì •ë³´ë¥¼ ë°ì´í„°ë² ì´ìŠ¤ì— ì €ì¥
Future<void> saveRegisterDataToDatabase() async {
  setState(() {
    isSaving = true;                                   // ì €ì¥ ì¤‘ ìƒíƒœ ì‹œì‘
    saveMessage = null;                                // ë©”ì‹œì§€ ì´ˆê¸°í™”
  });

  try {
    // 1. Property ê°ì²´ ìƒì„±
    final property = Property(
      address: fullAddress,                            // ì „ì²´ ì£¼ì†Œ
      transactionType: 'ë§¤ë§¤',                         // ê±°ë˜ ìœ í˜• (ê¸°ë³¸ê°’: ë§¤ë§¤)
      price: 0,                                        // ê°€ê²© (ë‚˜ì¤‘ì— ì…ë ¥)
      description: 'ë“±ê¸°ë¶€ë“±ë³¸ ì¡°íšŒë¥¼ í†µí•´ ë“±ë¡ëœ ë§¤ë¬¼',  // ì„¤ëª…
      registerData: json.encode(registerResult),       // ë“±ê¸°ë¶€ë“±ë³¸ ì›ë³¸ JSON
      registerSummary: json.encode(registerResult),    // ìš”ì•½ ì •ë³´ (í˜„ì¬ëŠ” ë™ì¼)
      contractStatus: 'ëŒ€ê¸°',                          // ê³„ì•½ ìƒíƒœ (ê¸°ë³¸ê°’: ëŒ€ê¸°)
      mainContractor: widget.userName,                 // ëŒ€í‘œ ê³„ì•½ì (ë¡œê·¸ì¸ ì‚¬ìš©ì)
      contractor: widget.userName,                     // ê³„ì•½ì (ë¡œê·¸ì¸ ì‚¬ìš©ì)
    );

    // 2. ë©”ëª¨ë¦¬ì— Property ê°ì²´ ì¶”ê°€ (í˜„ì¬ëŠ” ë°ì´í„°ë² ì´ìŠ¤ ë¯¸ì‚¬ìš©)
    _addProperty(property);

    setState(() {
      saveMessage = 'âœ… ë§¤ë¬¼ì´ ì„±ê³µì ìœ¼ë¡œ ë“±ë¡ë˜ì—ˆìŠµë‹ˆë‹¤!';  // ì„±ê³µ ë©”ì‹œì§€
    });

    // 3. 3ì´ˆ í›„ ë©”ì‹œì§€ ìë™ ì œê±°
    Future.delayed(const Duration(seconds: 3), () {
      if (mounted) {
        setState(() {
          saveMessage = null;
        });
      }
    });

  } catch (e) {
    setState(() {
      saveMessage = 'âŒ ë§¤ë¬¼ ë“±ë¡ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤: $e';  // ì—ëŸ¬ ë©”ì‹œì§€
    });
  } finally {
    setState(() {
      isSaving = false;                                // ì €ì¥ ì¤‘ ìƒíƒœ ì¢…ë£Œ
    });
  }
}
```

#### 1.2 Property ê°ì²´ ë©”ëª¨ë¦¬ ì €ì¥ (lib/screens/home_page.dart ë¼ì¸ 50-55)
```dart
// Property ê°ì²´ë¥¼ ë©”ëª¨ë¦¬ì— ì¶”ê°€ (í˜„ì¬ëŠ” ë°ì´í„°ë² ì´ìŠ¤ ë¯¸ì‚¬ìš©)
void _addProperty(Property property) {
  setState(() {
    properties.add(property);                          // ë©”ëª¨ë¦¬ ë¦¬ìŠ¤íŠ¸ì— ì¶”ê°€
  });
  print('ë§¤ë¬¼ì´ ë©”ëª¨ë¦¬ì— ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤: ${property.address}');  // ë””ë²„ê·¸ ë¡œê·¸
}
```

#### 1.3 Property ëª¨ë¸ êµ¬ì¡° (lib/models/property.dart ë¼ì¸ 1-35)
```dart
// ë¶€ë™ì‚° ë°ì´í„° ëª¨ë¸
class Property {
  final int? id;                    // SQLite database ID (AUTO INCREMENT) - í˜„ì¬ ë¯¸ì‚¬ìš©
  final String address;             // ë¶€ë™ì‚° ì£¼ì†Œ (ì „ì²´ ì£¼ì†Œ)
  final String transactionType;     // ê±°ë˜ ìœ í˜• (ë§¤ë§¤, ì „ì„¸, ì›”ì„¸)
  final int price;                  // ê°€ê²© (ì› ë‹¨ìœ„)
  final String description;         // ë§¤ë¬¼ ì„¤ëª…
  final String registerData;        // JSON ë¬¸ìì—´ë¡œ ì €ì¥ëœ ë“±ê¸°ë¶€ë“±ë³¸ ë°ì´í„°
  final String registerSummary;     // í•µì‹¬ ì •ë³´ë§Œ ë‹´ì€ JSON (í˜„ì¬ëŠ” ì›ë³¸ê³¼ ë™ì¼)
  final String contractStatus;      // ê³„ì•½ ìƒíƒœ (ëŒ€ê¸°, ì§„í–‰ì¤‘, ì™„ë£Œ, ì·¨ì†Œ)
  final String mainContractor;      // ëŒ€í‘œ ê³„ì•½ì (ë¡œê·¸ì¸ ì‚¬ìš©ì)
  final String contractor;          // ê³„ì•½ì (í•œê¸€/ì˜ë¬¸ ì´ë¦„)
  final DateTime createdAt;         // ìƒì„±ì¼ (ìë™ ì„¤ì •)

  // ìƒì„±ì
  Property({
    this.id,                        // IDëŠ” ì„ íƒì  (ìƒˆ ë§¤ë¬¼ ìƒì„± ì‹œ null)
    required this.address,          // ì£¼ì†ŒëŠ” í•„ìˆ˜
    required this.transactionType,  // ê±°ë˜ ìœ í˜•ì€ í•„ìˆ˜
    required this.price,            // ê°€ê²©ì€ í•„ìˆ˜
    String? description,            // ì„¤ëª…ì€ ì„ íƒì  (ê¸°ë³¸ê°’: ë¹ˆ ë¬¸ìì—´)
    String? registerData,           // ë“±ê¸°ë¶€ë“±ë³¸ ë°ì´í„°ëŠ” ì„ íƒì  (ê¸°ë³¸ê°’: ë¹ˆ JSON)
    String? registerSummary,        // ìš”ì•½ ì •ë³´ëŠ” ì„ íƒì  (ê¸°ë³¸ê°’: ë¹ˆ ë¬¸ìì—´)
    String? contractStatus,         // ê³„ì•½ ìƒíƒœëŠ” ì„ íƒì  (ê¸°ë³¸ê°’: 'ëŒ€ê¸°')
    String? mainContractor,         // ëŒ€í‘œ ê³„ì•½ìëŠ” ì„ íƒì  (ê¸°ë³¸ê°’: ë¹ˆ ë¬¸ìì—´)
    String? contractor,             // ê³„ì•½ìëŠ” ì„ íƒì  (ê¸°ë³¸ê°’: ë¹ˆ ë¬¸ìì—´)
    DateTime? createdAt,            // ìƒì„±ì¼ì€ ì„ íƒì  (ê¸°ë³¸ê°’: í˜„ì¬ ì‹œê°„)
  })  : description = description ?? '',                    // null ì²´í¬ ë° ê¸°ë³¸ê°’ ì„¤ì •
        registerData = registerData ?? '{}',                // ë¹ˆ JSON ê°ì²´
        registerSummary = registerSummary ?? '',            // ë¹ˆ ë¬¸ìì—´
        contractStatus = contractStatus ?? 'ëŒ€ê¸°',          // ê¸°ë³¸ ìƒíƒœ: ëŒ€ê¸°
        mainContractor = mainContractor ?? '',              // ë¹ˆ ë¬¸ìì—´
        contractor = contractor ?? '',                      // ë¹ˆ ë¬¸ìì—´
        createdAt = createdAt ?? DateTime.now();            // í˜„ì¬ ì‹œê°„
}
```

### 2. ë§¤ë¬¼ ëª©ë¡ í‘œì‹œ ë‹¨ê³„ (HouseMarketPage)

#### 2.1 ë§¤ë¬¼ ëª©ë¡ í™”ë©´ êµ¬ì¡° (lib/main.dart ë¼ì¸ 350-450)
```dart
class _HouseMarketPageState extends State<HouseMarketPage> {
  List<Property> properties = [];                       // ë§¤ë¬¼ ëª©ë¡ (ë©”ëª¨ë¦¬ ì €ì¥)
  final List<String> houseImages = [                    // ë§¤ë¬¼ ì´ë¯¸ì§€ ëª©ë¡
    'assets/sample_house.jpg',
    'assets/sample_house2.jpg',
    'assets/sample_house3.jpg',
  ];

  @override
  Widget build(BuildContext context) {
    return properties.isEmpty
        ? Center(child: Text('ë“±ë¡ëœ ë§¤ë¬¼ì´ ì—†ìŠµë‹ˆë‹¤.'))    // ë§¤ë¬¼ì´ ì—†ì„ ë•Œ ë©”ì‹œì§€
        : ListView.builder(                              // ë§¤ë¬¼ ëª©ë¡ í‘œì‹œ
            itemCount: properties.length,
            itemBuilder: (context, index) {
              final property = properties[index];        // í˜„ì¬ ë§¤ë¬¼
              final imgPath = houseImages[index % houseImages.length];  // ìˆœí™˜ ì´ë¯¸ì§€
              
              // total_amount íŒŒì‹± (ë“±ê¸°ë¶€ë“±ë³¸ì—ì„œ ê°€ê²© ì •ë³´ ì¶”ì¶œ)
              int? totalAmount;
              try {
                final regData = property.registerData;
                if (regData.isNotEmpty && regData != '{}') {
                  final map = json.decode(regData);
                  if (map['total_amount'] != null) {
                    totalAmount = int.tryParse(map['total_amount'].toString().replaceAll(',', ''));
                  }
                }
              } catch (_) {
                // íŒŒì‹± ì‹¤íŒ¨ ì‹œ ë¬´ì‹œ
              }
              
              // ë§¤ë¬¼ ì¹´ë“œ ë°˜í™˜
              return Card(
                child: Column(
                  children: [
                    // ë§¤ë¬¼ ì´ë¯¸ì§€
                    Image.asset(
                      imgPath, 
                      height: 160, 
                      fit: BoxFit.cover
                    ),
                    // ë§¤ë¬¼ ì£¼ì†Œ
                    Text(
                      property.address, 
                      style: TextStyle(
                        fontSize: 18, 
                        fontWeight: FontWeight.bold
                      )
                    ),
                    // ê±°ë˜ ìœ í˜•
                    Text('ê±°ë˜ìœ í˜•: ${property.transactionType}'),
                    // ê°€ê²© ì •ë³´ (ìˆëŠ” ê²½ìš°ë§Œ í‘œì‹œ)
                    if (totalAmount != null)
                      Text(
                        'ê°€ê²©: ${totalAmount.toString().replaceAllMapped(
                          RegExp(r'(\d{1,3})(?=(\d{3})+(?!\d))'), 
                          (Match m) => '${m[1]},'
                        )}ì›'
                      ),
                  ],
                ),
              );
            },
          );
  }
}
```

#### 2.2 ë§¤ë¬¼ ì¹´ë“œ ìƒì„¸ êµ¬ì¡°
```dart
// ë§¤ë¬¼ ì¹´ë“œ ìœ„ì ¯ (ê°œì„ ëœ ë²„ì „)
Widget _buildPropertyCard(Property property, int index) {
  final imgPath = houseImages[index % houseImages.length];
  
  // ë“±ê¸°ë¶€ë“±ë³¸ì—ì„œ ê°€ê²© ì •ë³´ íŒŒì‹±
  int? totalAmount;
  String? propertyType;
  String? propertyArea;
  
  try {
    final regData = property.registerData;
    if (regData.isNotEmpty && regData != '{}') {
      final map = json.decode(regData);
      
      // ê°€ê²© ì •ë³´ ì¶”ì¶œ
      if (map['total_amount'] != null) {
        totalAmount = int.tryParse(map['total_amount'].toString().replaceAll(',', ''));
      }
      
      // ë¶€ë™ì‚° ì •ë³´ ì¶”ì¶œ (CurrentStateParser ì‚¬ìš©)
      final rawJson = json.encode(map);
      final currentState = parseCurrentState(rawJson);
      propertyType = currentState.building.structure;
      propertyArea = currentState.building.areaTotal;
    }
  } catch (e) {
    print('ë§¤ë¬¼ ì •ë³´ íŒŒì‹± ì˜¤ë¥˜: $e');
  }
  
  return Card(
    margin: const EdgeInsets.symmetric(horizontal: 16, vertical: 8),
    elevation: 4,
    child: Column(
      crossAxisAlignment: CrossAxisAlignment.start,
      children: [
        // ì´ë¯¸ì§€ ì„¹ì…˜
        Stack(
          children: [
            Image.asset(
              imgPath,
              height: 200,
              width: double.infinity,
              fit: BoxFit.cover,
            ),
            // ê³„ì•½ ìƒíƒœ ë°°ì§€
            Positioned(
              top: 8,
              right: 8,
              child: Container(
                padding: const EdgeInsets.symmetric(horizontal: 8, vertical: 4),
                decoration: BoxDecoration(
                  color: _getStatusColor(property.contractStatus),
                  borderRadius: BorderRadius.circular(12),
                ),
                child: Text(
                  property.contractStatus,
                  style: const TextStyle(
                    color: Colors.white,
                    fontSize: 12,
                    fontWeight: FontWeight.bold,
                  ),
                ),
              ),
            ),
          ],
        ),
        
        // ì •ë³´ ì„¹ì…˜
        Padding(
          padding: const EdgeInsets.all(16),
          child: Column(
            crossAxisAlignment: CrossAxisAlignment.start,
            children: [
              // ì£¼ì†Œ
              Text(
                property.address,
                style: const TextStyle(
                  fontSize: 18,
                  fontWeight: FontWeight.bold,
                ),
                maxLines: 2,
                overflow: TextOverflow.ellipsis,
              ),
              
              const SizedBox(height: 8),
              
              // ê±°ë˜ ìœ í˜•
              Row(
                children: [
                  Icon(Icons.category, size: 16, color: Colors.grey[600]),
                  const SizedBox(width: 4),
                  Text(
                    'ê±°ë˜ìœ í˜•: ${property.transactionType}',
                    style: TextStyle(color: Colors.grey[600]),
                  ),
                ],
              ),
              
              // ê±´ë¬¼ ì •ë³´ (ìˆëŠ” ê²½ìš°)
              if (propertyType != null) ...[
                const SizedBox(height: 4),
                Row(
                  children: [
                    Icon(Icons.home, size: 16, color: Colors.grey[600]),
                    const SizedBox(width: 4),
                    Text(
                      'êµ¬ì¡°: $propertyType',
                      style: TextStyle(color: Colors.grey[600]),
                    ),
                  ],
                ),
              ],
              
              // ë©´ì  ì •ë³´ (ìˆëŠ” ê²½ìš°)
              if (propertyArea != null) ...[
                const SizedBox(height: 4),
                Row(
                  children: [
                    Icon(Icons.square_foot, size: 16, color: Colors.grey[600]),
                    const SizedBox(width: 4),
                    Text(
                      'ë©´ì : $propertyArea',
                      style: TextStyle(color: Colors.grey[600]),
                    ),
                  ],
                ),
              ],
              
              // ê°€ê²© ì •ë³´ (ìˆëŠ” ê²½ìš°)
              if (totalAmount != null) ...[
                const SizedBox(height: 8),
                Text(
                  'ê°€ê²©: ${totalAmount.toString().replaceAllMapped(
                    RegExp(r'(\d{1,3})(?=(\d{3})+(?!\d))'),
                    (Match m) => '${m[1]},'
                  )}ì›',
                  style: const TextStyle(
                    fontSize: 16,
                    fontWeight: FontWeight.bold,
                    color: AppColors.kBrown,
                  ),
                ),
              ],
              
              // ë“±ë¡ì¼
              const SizedBox(height: 8),
              Text(
                'ë“±ë¡ì¼: ${property.createdAt.toString().substring(0, 10)}',
                style: TextStyle(
                  fontSize: 12,
                  color: Colors.grey[500],
                ),
              ),
            ],
          ),
        ),
      ],
    ),
  );
}
```

#### 2.3 ê³„ì•½ ìƒíƒœ ìƒ‰ìƒ í•¨ìˆ˜
```dart
// ê³„ì•½ ìƒíƒœì— ë”°ë¥¸ ìƒ‰ìƒ ë°˜í™˜
Color _getStatusColor(String status) {
  switch (status) {
    case 'ëŒ€ê¸°':
      return Colors.orange;
    case 'ì§„í–‰ì¤‘':
      return Colors.blue;
    case 'ì™„ë£Œ':
      return Colors.green;
    case 'ì·¨ì†Œ':
      return Colors.red;
    default:
      return Colors.grey;
  }
}
```

### 3. ê³„ì•½ ê´€ë¦¬ í™”ë©´ (ContractManagementScreen)

#### 3.1 ê³„ì•½ ê´€ë¦¬ í™”ë©´ êµ¬ì¡° (lib/screens/contract_management_screen.dart ë¼ì¸ 1-50)
```dart
class ContractManagementScreen extends StatefulWidget {
  final String userName;                              // ì‚¬ìš©ì ì´ë¦„
  const ContractManagementScreen({Key? key, required this.userName});
}

class _ContractManagementScreenState extends State<ContractManagementScreen> {
  List<Property> myProperties = [];                    // ë‚´ ë§¤ë¬¼ ëª©ë¡
  bool isLoading = false;                             // ë¡œë”© ìƒíƒœ

  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(
        title: const Text('ê³„ì•½ ê´€ë¦¬'),
        backgroundColor: AppColors.kBrown,
        foregroundColor: Colors.white,
      ),
      body: isLoading
          ? const Center(child: CircularProgressIndicator())
          : SingleChildScrollView(
              padding: const EdgeInsets.all(16.0),
              child: Column(
                crossAxisAlignment: CrossAxisAlignment.start,
                children: [
                  // ê³„ì•½ì„œ ì •ë³´ ì„¹ì…˜
                  _buildHouseLeaseAgreementInfo(),
                  const SizedBox(height: 20),
                  
                  // êµ¬ë§¤ ê³„ì•½ì„œ ê´€ë¦¬ ì„¹ì…˜
                  _buildLeftSection(),
                  const SizedBox(height: 20),
                  
                  // íŒë§¤ ë§¤ë¬¼ ê³„ì•½ì„œ ê´€ë¦¬ ì„¹ì…˜
                  _buildRightSection(),
                ],
              ),
            ),
    );
  }
}
```

#### 3.2 ê³„ì•½ì„œ ì •ë³´ í‘œì‹œ (lib/screens/contract_management_screen.dart ë¼ì¸ 20-50)
```dart
// ì£¼íƒì„ëŒ€ì°¨ê³„ì•½ì„œ ì •ë³´ í‘œì‹œ
Widget _buildHouseLeaseAgreementInfo() {
  return Container(
    padding: const EdgeInsets.all(16),
    decoration: BoxDecoration(
      color: AppColors.kLightBrown,
      borderRadius: BorderRadius.circular(12),
      border: Border.all(color: AppColors.kBrown, width: 1),
    ),
    child: Column(
      crossAxisAlignment: CrossAxisAlignment.start,
      children: [
        Row(
          children: [
            Icon(Icons.description, color: AppColors.kBrown),
            const SizedBox(width: 8),
            const Text(
              'ì£¼íƒì„ëŒ€ì°¨ê³„ì•½ì„œ',
              style: TextStyle(
                fontSize: 18,
                fontWeight: FontWeight.bold,
                color: AppColors.kBrown,
              ),
            ),
          ],
        ),
        const SizedBox(height: 12),
        Text(
          'â€¢ ì„ëŒ€ì°¨ê³„ì•½ì„œ ì‘ì„± ë° ê´€ë¦¬\n'
          'â€¢ ë“±ê¸°ë¶€ë“±ë³¸ ê¸°ë°˜ ìë™ ì…ë ¥\n'
          'â€¢ ê³„ì•½ ìƒíƒœ ì¶”ì \n'
          'â€¢ PDF ìƒì„± ë° ë‹¤ìš´ë¡œë“œ',
          style: TextStyle(
            fontSize: 14,
            color: Colors.grey[700],
            height: 1.5,
          ),
        ),
      ],
    ),
  );
}
```

#### 3.3 êµ¬ë§¤ ê³„ì•½ì„œ ê´€ë¦¬ ì„¹ì…˜ (lib/screens/contract_management_screen.dart ë¼ì¸ 80-150)
```dart
// êµ¬ë§¤ ê³„ì•½ì„œ ê´€ë¦¬ ì„¹ì…˜ (ì™¼ìª½)
Widget _buildLeftSection() {
  return Container(
    width: double.infinity,
    padding: const EdgeInsets.all(16),
    decoration: BoxDecoration(
      color: Colors.white,
      borderRadius: BorderRadius.circular(12),
      border: Border.all(color: Colors.grey[300]!),
      boxShadow: [
        BoxShadow(
          color: Colors.grey.withOpacity(0.1),
          spreadRadius: 1,
          blurRadius: 3,
          offset: const Offset(0, 2),
        ),
      ],
    ),
    child: Column(
      crossAxisAlignment: CrossAxisAlignment.start,
      children: [
        Row(
          children: [
            Icon(Icons.shopping_cart, color: AppColors.kBrown),
            const SizedBox(width: 8),
            const Text(
              'êµ¬ë§¤ ê³„ì•½ì„œ ê´€ë¦¬',
              style: TextStyle(
                fontSize: 16,
                fontWeight: FontWeight.bold,
                color: AppColors.kBrown,
              ),
            ),
          ],
        ),
        const SizedBox(height: 16),
        
        // êµ¬ë§¤ ë§¤ë¬¼ ëª©ë¡
        if (myProperties.isEmpty)
          const Center(
            child: Padding(
              padding: EdgeInsets.all(20),
              child: Text(
                'êµ¬ë§¤í•œ ë§¤ë¬¼ì´ ì—†ìŠµë‹ˆë‹¤.',
                style: TextStyle(
                  color: Colors.grey,
                  fontSize: 16,
                ),
              ),
            ),
          )
        else
          ...myProperties
              .where((property) => property.transactionType == 'ë§¤ë§¤')
              .map((property) => _buildPropertyContractCard(property, 'êµ¬ë§¤')),
      ],
    ),
  );
}
```

#### 3.4 íŒë§¤ ë§¤ë¬¼ ê³„ì•½ì„œ ê´€ë¦¬ ì„¹ì…˜ (lib/screens/contract_management_screen.dart ë¼ì¸ 155-250)
```dart
// íŒë§¤ ë§¤ë¬¼ ê³„ì•½ì„œ ê´€ë¦¬ ì„¹ì…˜ (ì˜¤ë¥¸ìª½)
Widget _buildRightSection() {
  return Container(
    width: double.infinity,
    padding: const EdgeInsets.all(16),
    decoration: BoxDecoration(
      color: Colors.white,
      borderRadius: BorderRadius.circular(12),
      border: Border.all(color: Colors.grey[300]!),
      boxShadow: [
        BoxShadow(
          color: Colors.grey.withOpacity(0.1),
          spreadRadius: 1,
          blurRadius: 3,
          offset: const Offset(0, 2),
        ),
      ],
    ),
    child: Column(
      crossAxisAlignment: CrossAxisAlignment.start,
      children: [
        Row(
          children: [
            Icon(Icons.sell, color: AppColors.kBrown),
            const SizedBox(width: 8),
            const Text(
              'íŒë§¤ ë§¤ë¬¼ ê³„ì•½ì„œ ê´€ë¦¬',
              style: TextStyle(
                fontSize: 16,
                fontWeight: FontWeight.bold,
                color: AppColors.kBrown,
              ),
            ),
          ],
        ),
        const SizedBox(height: 16),
        
        // íŒë§¤ ë§¤ë¬¼ ëª©ë¡
        if (myProperties.isEmpty)
          const Center(
            child: Padding(
              padding: EdgeInsets.all(20),
              child: Text(
                'íŒë§¤í•œ ë§¤ë¬¼ì´ ì—†ìŠµë‹ˆë‹¤.',
                style: TextStyle(
                  color: Colors.grey,
                  fontSize: 16,
                ),
              ),
            ),
          )
        else
          ...myProperties
              .where((property) => property.transactionType == 'ë§¤ë§¤')
              .map((property) => _buildPropertyContractCard(property, 'íŒë§¤')),
      ],
    ),
  );
}
```

#### 3.5 ë§¤ë¬¼ ê³„ì•½ì„œ ì¹´ë“œ (lib/screens/contract_management_screen.dart ë¼ì¸ 250-350)
```dart
// ë§¤ë¬¼ ê³„ì•½ì„œ ì¹´ë“œ ìœ„ì ¯
Widget _buildPropertyContractCard(Property property, String type) {
  return Card(
    margin: const EdgeInsets.only(bottom: 12),
    child: Padding(
      padding: const EdgeInsets.all(16),
      child: Column(
        crossAxisAlignment: CrossAxisAlignment.start,
        children: [
          // ë§¤ë¬¼ ì •ë³´ í—¤ë”
          Row(
            children: [
              Expanded(
                child: Text(
                  property.address,
                  style: const TextStyle(
                    fontSize: 16,
                    fontWeight: FontWeight.bold,
                  ),
                  maxLines: 2,
                  overflow: TextOverflow.ellipsis,
                ),
              ),
              Container(
                padding: const EdgeInsets.symmetric(horizontal: 8, vertical: 4),
                decoration: BoxDecoration(
                  color: _getStatusColor(property.contractStatus),
                  borderRadius: BorderRadius.circular(12),
                ),
                child: Text(
                  property.contractStatus,
                  style: const TextStyle(
                    color: Colors.white,
                    fontSize: 12,
                    fontWeight: FontWeight.bold,
                  ),
                ),
              ),
            ],
          ),
          
          const SizedBox(height: 8),
          
          // ë§¤ë¬¼ ìƒì„¸ ì •ë³´
          Text('ê±°ë˜ìœ í˜•: ${property.transactionType}'),
          Text('ê³„ì•½ì: ${property.contractor}'),
          Text('ë“±ë¡ì¼: ${property.createdAt.toString().substring(0, 10)}'),
          
          const SizedBox(height: 12),
          
          // ì•¡ì…˜ ë²„íŠ¼ë“¤
          Row(
            children: [
              // ê³„ì•½ì„œ ë³´ê¸° ë²„íŠ¼
              Expanded(
                child: ElevatedButton.icon(
                  onPressed: () => _viewContract(property),
                  icon: const Icon(Icons.visibility, size: 16),
                  label: const Text('ê³„ì•½ì„œ ë³´ê¸°'),
                  style: ElevatedButton.styleFrom(
                    backgroundColor: AppColors.kBrown,
                    foregroundColor: Colors.white,
                    padding: const EdgeInsets.symmetric(vertical: 8),
                  ),
                ),
              ),
              const SizedBox(width: 8),
              // ê³„ì•½ì„œ ìˆ˜ì • ë²„íŠ¼
              Expanded(
                child: ElevatedButton.icon(
                  onPressed: () => _editContract(property),
                  icon: const Icon(Icons.edit, size: 16),
                  label: const Text('ìˆ˜ì •'),
                  style: ElevatedButton.styleFrom(
                    backgroundColor: Colors.orange,
                    foregroundColor: Colors.white,
                    padding: const EdgeInsets.symmetric(vertical: 8),
                  ),
                ),
              ),
              const SizedBox(width: 8),
              // ê³„ì•½ì„œ ì‚­ì œ ë²„íŠ¼
              Expanded(
                child: ElevatedButton.icon(
                  onPressed: () => _deleteContract(property),
                  icon: const Icon(Icons.delete, size: 16),
                  label: const Text('ì‚­ì œ'),
                  style: ElevatedButton.styleFrom(
                    backgroundColor: Colors.red,
                    foregroundColor: Colors.white,
                    padding: const EdgeInsets.symmetric(vertical: 8),
                  ),
                ),
              ),
            ],
          ),
        ],
      ),
    ),
  );
}
```

### 4. ë§¤ë¬¼ ë°ì´í„° ë³€í™˜ ë° ì €ì¥

#### 4.1 Property ëª¨ë¸ ë³€í™˜ ë©”ì„œë“œ (lib/models/property.dart ë¼ì¸ 35-75)
```dart
// Property ê°ì²´ë¥¼ Mapìœ¼ë¡œ ë³€í™˜ (ë°ì´í„°ë² ì´ìŠ¤ ì €ì¥ìš©)
Map<String, dynamic> toMap() {
  return {
    'id': id,                                          // ID (nullì´ë©´ AUTO INCREMENT)
    'address': address,                                // ì£¼ì†Œ
    'transactionType': transactionType,                // ê±°ë˜ ìœ í˜•
    'price': price,                                    // ê°€ê²©
    'description': description,                        // ì„¤ëª…
    'registerData': registerData,                      // ë“±ê¸°ë¶€ë“±ë³¸ JSON
    'registerSummary': registerSummary,                // ìš”ì•½ ì •ë³´
    'contractStatus': contractStatus,                  // ê³„ì•½ ìƒíƒœ
    'mainContractor': mainContractor,                  // ëŒ€í‘œ ê³„ì•½ì
    'contractor': contractor,                          // ê³„ì•½ì
    'createdAt': createdAt.toIso8601String(),          // ìƒì„±ì¼ (ISO ë¬¸ìì—´)
  };
}

// Mapì—ì„œ Property ê°ì²´ ìƒì„± (ë°ì´í„°ë² ì´ìŠ¤ ë¡œë“œìš©)
factory Property.fromMap(Map<String, dynamic> map) {
  return Property(
    id: map['id'] as int?,                             // ID
    address: map['address'] as String,                 // ì£¼ì†Œ
    transactionType: map['transactionType'] as String, // ê±°ë˜ ìœ í˜•
    price: map['price'] as int,                        // ê°€ê²©
    description: map['description'] as String? ?? '',  // ì„¤ëª…
    registerData: map['registerData'] as String? ?? '{}', // ë“±ê¸°ë¶€ë“±ë³¸ JSON
    registerSummary: map['registerSummary'] as String? ?? '', // ìš”ì•½ ì •ë³´
    contractStatus: map['contractStatus'] as String? ?? 'ëŒ€ê¸°', // ê³„ì•½ ìƒíƒœ
    mainContractor: map['mainContractor'] as String? ?? '', // ëŒ€í‘œ ê³„ì•½ì
    contractor: map['contractor'] as String? ?? '',    // ê³„ì•½ì
    createdAt: map['createdAt'] != null 
        ? DateTime.parse(map['createdAt'] as String)   // ìƒì„±ì¼ íŒŒì‹±
        : DateTime.now(),                              // ê¸°ë³¸ê°’: í˜„ì¬ ì‹œê°„
  );
}
```

#### 4.2 Property ê°ì²´ ë³µì‚¬ ë©”ì„œë“œ (lib/models/property.dart ë¼ì¸ 77-103)
```dart
// Property ê°ì²´ ë³µì‚¬ (ì¼ë¶€ í•„ë“œë§Œ ë³€ê²½)
Property copyWith({
  int? id,                                             // ID ë³€ê²½
  String? address,                                     // ì£¼ì†Œ ë³€ê²½
  String? transactionType,                             // ê±°ë˜ ìœ í˜• ë³€ê²½
  int? price,                                          // ê°€ê²© ë³€ê²½
  String? description,                                 // ì„¤ëª… ë³€ê²½
  String? registerData,                                // ë“±ê¸°ë¶€ë“±ë³¸ ë°ì´í„° ë³€ê²½
  String? registerSummary,                             // ìš”ì•½ ì •ë³´ ë³€ê²½
  String? contractStatus,                              // ê³„ì•½ ìƒíƒœ ë³€ê²½
  String? mainContractor,                              // ëŒ€í‘œ ê³„ì•½ì ë³€ê²½
  String? contractor,                                  // ê³„ì•½ì ë³€ê²½
  DateTime? createdAt,                                 // ìƒì„±ì¼ ë³€ê²½
}) {
  return Property(
    id: id ?? this.id,                                 // ë³€ê²½ë˜ì§€ ì•Šìœ¼ë©´ ê¸°ì¡´ ê°’ ìœ ì§€
    address: address ?? this.address,
    transactionType: transactionType ?? this.transactionType,
    price: price ?? this.price,
    description: description ?? this.description,
    registerData: registerData ?? this.registerData,
    registerSummary: registerSummary ?? this.registerSummary,
    contractStatus: contractStatus ?? this.contractStatus,
    mainContractor: mainContractor ?? this.mainContractor,
    contractor: contractor ?? this.contractor,
    createdAt: createdAt ?? this.createdAt,
  );
}
```

### 5. ë§¤ë¬¼ ê´€ë¦¬ ì•¡ì…˜ í•¨ìˆ˜ë“¤

#### 5.1 ê³„ì•½ì„œ ë³´ê¸° í•¨ìˆ˜ (lib/screens/contract_management_screen.dart ë¼ì¸ 350-370)
```dart
// ê³„ì•½ì„œ ë³´ê¸° í•¨ìˆ˜
void _viewContract(Property property) {
  try {
    // ë“±ê¸°ë¶€ë“±ë³¸ ë°ì´í„° íŒŒì‹±
    final registerData = json.decode(property.registerData);
    
    // ê³„ì•½ì„œ ì‘ì„± í™”ë©´ìœ¼ë¡œ ì´ë™ (ì½ê¸° ì „ìš©)
    Navigator.push(
      context,
      MaterialPageRoute(
        builder: (context) => ContractInputFormScreen(
          initialData: registerData,                   // ë“±ê¸°ë¶€ë“±ë³¸ ë°ì´í„°
          userName: widget.userName,                   // ì‚¬ìš©ì ì´ë¦„
          property: property,                          // Property ê°ì²´
        ),
      ),
    );
  } catch (e) {
    ScaffoldMessenger.of(context).showSnackBar(
      SnackBar(
        content: Text('ê³„ì•½ì„œ ë³´ê¸° ì¤‘ ì˜¤ë¥˜: $e'),
        backgroundColor: Colors.red,
      ),
    );
  }
}
```

#### 5.2 ê³„ì•½ì„œ ìˆ˜ì • í•¨ìˆ˜ (lib/screens/contract_management_screen.dart ë¼ì¸ 370-390)
```dart
// ê³„ì•½ì„œ ìˆ˜ì • í•¨ìˆ˜
void _editContract(Property property) {
  try {
    // ë“±ê¸°ë¶€ë“±ë³¸ ë°ì´í„° íŒŒì‹±
    final registerData = json.decode(property.registerData);
    
    // ê³„ì•½ì„œ ì‘ì„± í™”ë©´ìœ¼ë¡œ ì´ë™ (ìˆ˜ì • ëª¨ë“œ)
    Navigator.push(
      context,
      MaterialPageRoute(
        builder: (context) => ContractInputFormScreen(
          initialData: registerData,                   // ë“±ê¸°ë¶€ë“±ë³¸ ë°ì´í„°
          userName: widget.userName,                   // ì‚¬ìš©ì ì´ë¦„
          property: property,                          // Property ê°ì²´
        ),
      ),
    ).then((result) {
      // ìˆ˜ì • ì™„ë£Œ í›„ ëª©ë¡ ìƒˆë¡œê³ ì¹¨
      if (result != null) {
        setState(() {
          // ì‹¤ì œë¡œëŠ” ë°ì´í„°ë² ì´ìŠ¤ ì—…ë°ì´íŠ¸ í•„ìš”
          print('ê³„ì•½ì„œ ìˆ˜ì • ì™„ë£Œ: $result');
        });
      }
    });
  } catch (e) {
    ScaffoldMessenger.of(context).showSnackBar(
      SnackBar(
        content: Text('ê³„ì•½ì„œ ìˆ˜ì • ì¤‘ ì˜¤ë¥˜: $e'),
        backgroundColor: Colors.red,
      ),
    );
  }
}
```

#### 5.3 ê³„ì•½ì„œ ì‚­ì œ í•¨ìˆ˜ (lib/screens/contract_management_screen.dart ë¼ì¸ 390-420)
```dart
// ê³„ì•½ì„œ ì‚­ì œ í•¨ìˆ˜
void _deleteContract(Property property) {
  // ì‚­ì œ í™•ì¸ ë‹¤ì´ì–¼ë¡œê·¸
  showDialog(
    context: context,
    builder: (BuildContext context) {
      return AlertDialog(
        title: const Text('ê³„ì•½ì„œ ì‚­ì œ'),
        content: Text('ì •ë§ë¡œ "${property.address}" ë§¤ë¬¼ì˜ ê³„ì•½ì„œë¥¼ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?'),
        actions: [
          TextButton(
            onPressed: () => Navigator.of(context).pop(),
            child: const Text('ì·¨ì†Œ'),
          ),
          TextButton(
            onPressed: () {
              Navigator.of(context).pop();
              _confirmDelete(property);
            },
            child: const Text('ì‚­ì œ', style: TextStyle(color: Colors.red)),
          ),
        ],
      );
    },
  );
}

// ì‚­ì œ í™•ì¸ ì‹¤í–‰
void _confirmDelete(Property property) {
  try {
    setState(() {
      // ì‹¤ì œë¡œëŠ” ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ì‚­ì œ í•„ìš”
      myProperties.removeWhere((p) => p.id == property.id);
    });
    
    ScaffoldMessenger.of(context).showSnackBar(
      const SnackBar(
        content: Text('ê³„ì•½ì„œê°€ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤.'),
        backgroundColor: Colors.green,
      ),
    );
  } catch (e) {
    ScaffoldMessenger.of(context).showSnackBar(
      SnackBar(
        content: Text('ê³„ì•½ì„œ ì‚­ì œ ì¤‘ ì˜¤ë¥˜: $e'),
        backgroundColor: Colors.red,
      ),
    );
  }
}
```

### 6. ë°ì´í„°ë² ì´ìŠ¤ ì—°ë™ (í˜„ì¬ ë¯¸ì‚¬ìš©)

#### 6.1 DatabaseHelper êµ¬ì¡° (lib/database/database_helper.dart)
```dart
// SQLite ë°ì´í„°ë² ì´ìŠ¤ í—¬í¼ (í˜„ì¬ ë¯¸ì‚¬ìš©)
class DatabaseHelper {
  static final DatabaseHelper instance = DatabaseHelper._init();
  static Database? _database;
  DatabaseHelper._init();

  Future<Database> get database async {
    if (_database != null) return _database!;
    _database = await _initDB('property.db');
    return _database!;
  }

  Future<Database> _initDB(String filePath) async {
    final dbPath = await getDatabasesPath();
    final path = join(dbPath, filePath);

    return await openDatabase(
      path,
      version: 1,
      onCreate: _createDB,
    );
  }

  Future<void> _createDB(Database db, int version) async {
    // Property í…Œì´ë¸” ìƒì„±
    await db.execute('''
      CREATE TABLE properties (
        id INTEGER PRIMARY KEY AUTOINCREMENT,
        address TEXT NOT NULL,
        transactionType TEXT NOT NULL,
        price INTEGER NOT NULL,
        description TEXT,
        registerData TEXT,
        registerSummary TEXT,
        contractStatus TEXT,
        mainContractor TEXT,
        contractor TEXT,
        createdAt TEXT NOT NULL
      )
    ''');
  }

  // Property ì‚½ì…
  Future<int> insertProperty(Property property) async {
    final db = await database;
    return await db.insert('properties', property.toMap());
  }

  // Property ì¡°íšŒ
  Future<List<Property>> getAllProperties() async {
    final db = await database;
    final List<Map<String, dynamic>> maps = await db.query('properties');
    return List.generate(maps.length, (i) => Property.fromMap(maps[i]));
  }

  // Property ì—…ë°ì´íŠ¸
  Future<int> updateProperty(Property property) async {
    final db = await database;
    return await db.update(
      'properties',
      property.toMap(),
      where: 'id = ?',
      whereArgs: [property.id],
    );
  }

  // Property ì‚­ì œ
  Future<int> deleteProperty(int id) async {
    final db = await database;
    return await db.delete(
      'properties',
      where: 'id = ?',
      whereArgs: [id],
    );
  }
}
```

### 7. ì„±ëŠ¥ ìµœì í™” ë° ê°œì„ ì‚¬í•­

#### 7.1 í˜„ì¬ êµ¬í˜„ì˜ ì¥ì 
1. **ë©”ëª¨ë¦¬ ê¸°ë°˜**: ë¹ ë¥¸ ì ‘ê·¼ ë° ìˆ˜ì •
2. **ë“±ê¸°ë¶€ë“±ë³¸ ì—°ë™**: ìë™ ë°ì´í„° ì…ë ¥
3. **ìƒíƒœ ê´€ë¦¬**: ê³„ì•½ ìƒíƒœ ì¶”ì 
4. **ì´ë¯¸ì§€ ìˆœí™˜**: ë§¤ë¬¼ ì´ë¯¸ì§€ ìë™ í• ë‹¹

#### 7.2 ê°œì„  ê°€ëŠ¥í•œ ë¶€ë¶„
1. **ë°ì´í„°ë² ì´ìŠ¤ ì—°ë™**: SQLite ë˜ëŠ” Firebase Firestore
2. **ì´ë¯¸ì§€ ì—…ë¡œë“œ**: ì‹¤ì œ ë§¤ë¬¼ ì´ë¯¸ì§€ ì—…ë¡œë“œ
3. **ê²€ìƒ‰ ê¸°ëŠ¥**: ì£¼ì†Œ, ê°€ê²©, ìœ í˜•ë³„ ê²€ìƒ‰
4. **í•„í„°ë§**: ìƒíƒœ, ë‚ ì§œë³„ í•„í„°ë§
5. **ì •ë ¬**: ê°€ê²©, ë“±ë¡ì¼ë³„ ì •ë ¬
6. **í˜ì´ì§€ë„¤ì´ì…˜**: ëŒ€ëŸ‰ ë°ì´í„° ì²˜ë¦¬
7. **ë™ê¸°í™”**: í´ë¼ìš°ë“œ ë™ê¸°í™”

### 8. ì‹¤ì œ ì‚¬ìš© ì˜ˆì‹œ

#### 8.1 ì •ìƒì ì¸ ë§¤ë¬¼ ê´€ë¦¬ íë¦„
```
1. ë“±ê¸°ë¶€ë“±ë³¸ ì¡°íšŒ ì„±ê³µ
2. "íŒë§¤ ë“±ë¡ ì‹¬ì‚¬" ë²„íŠ¼ í´ë¦­
3. Property ê°ì²´ ìƒì„± ë° ë©”ëª¨ë¦¬ ì €ì¥
4. "ë‚´ì§‘ì‚¬ê¸°" íƒ­ì—ì„œ ë§¤ë¬¼ ëª©ë¡ í™•ì¸
5. "ê³„ì•½ê´€ë¦¬" íƒ­ì—ì„œ ê³„ì•½ì„œ ê´€ë¦¬
6. ê³„ì•½ì„œ ë³´ê¸°/ìˆ˜ì •/ì‚­ì œ ê¸°ëŠ¥ ì‚¬ìš©
```

#### 8.2 ì—ëŸ¬ ìƒí™© ì²˜ë¦¬
```
1. ë§¤ë¬¼ ë“±ë¡ ì‹¤íŒ¨: "âŒ ë§¤ë¬¼ ë“±ë¡ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤"
2. ê³„ì•½ì„œ ë³´ê¸° ì‹¤íŒ¨: "ê³„ì•½ì„œ ë³´ê¸° ì¤‘ ì˜¤ë¥˜"
3. ê³„ì•½ì„œ ìˆ˜ì • ì‹¤íŒ¨: "ê³„ì•½ì„œ ìˆ˜ì • ì¤‘ ì˜¤ë¥˜"
4. ê³„ì•½ì„œ ì‚­ì œ ì‹¤íŒ¨: "ê³„ì•½ì„œ ì‚­ì œ ì¤‘ ì˜¤ë¥˜"
5. ë°ì´í„° íŒŒì‹± ì‹¤íŒ¨: ê¸°ë³¸ê°’ìœ¼ë¡œ ì²˜ë¦¬
```

ì´ ë§¤ë¬¼ ê´€ë¦¬ í”„ë¡œì„¸ìŠ¤ëŠ” ë“±ê¸°ë¶€ë“±ë³¸ ë°ì´í„°ë¥¼ ê¸°ë°˜ìœ¼ë¡œ í•œ ë§¤ë¬¼ ë“±ë¡ë¶€í„° ëª©ë¡ í‘œì‹œ, ê³„ì•½ì„œ ê´€ë¦¬, ìƒíƒœ ì¶”ì ê¹Œì§€ ëª¨ë“  ë‹¨ê³„ë¥¼ ì²´ê³„ì ìœ¼ë¡œ ì²˜ë¦¬í•˜ë©°, ì‚¬ìš©ì ì¹œí™”ì ì¸ ì¸í„°í˜ì´ìŠ¤ì™€ ê²¬ê³ í•œ ë°ì´í„° ê´€ë¦¬ë¥¼ ì œê³µí•©ë‹ˆë‹¤. 