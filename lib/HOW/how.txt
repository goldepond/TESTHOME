# ë¶€ë™ì‚° ê´€ë¦¬ ì•± ì„¸ë¶€ í”„ë¡œì„¸ìŠ¤ ë¶„ì„

## ğŸ”„ í•µì‹¬ í”„ë¡œì„¸ìŠ¤ íë¦„

### 1. ì£¼ì†Œ ê²€ìƒ‰ í”„ë¡œì„¸ìŠ¤
```
ì‚¬ìš©ì ì…ë ¥ â†’ AddressService â†’ ë„ë¡œëª…ì£¼ì†Œ API â†’ ê²°ê³¼ íŒŒì‹± â†’ UI í‘œì‹œ
```

**ì„¸ë¶€ ì½”ë“œ íë¦„:**
- `home_page.dart:180` - ì‚¬ìš©ìê°€ ì£¼ì†Œ ì…ë ¥ í›„ ê²€ìƒ‰ ë²„íŠ¼ í´ë¦­
- `address_service.dart:20` - `searchRoadAddress()` ë©”ì„œë“œ ì‹¤í–‰
- `address_service.dart:30` - ë„ë¡œëª…ì£¼ì†Œ API URL êµ¬ì„± (juso.go.kr)
- `address_service.dart:40` - HTTP GET ìš”ì²­ìœ¼ë¡œ ì£¼ì†Œ ê²€ìƒ‰
- `address_service.dart:60` - JSON ì‘ë‹µ íŒŒì‹±í•˜ì—¬ ì£¼ì†Œ ëª©ë¡ ë°˜í™˜
- `home_page.dart:200` - ê²€ìƒ‰ ê²°ê³¼ë¥¼ UIì— í‘œì‹œ

### 2. ì£¼ì†Œ íŒŒì‹± í”„ë¡œì„¸ìŠ¤
```
ë„ë¡œëª…ì£¼ì†Œ â†’ AddressParser â†’ ì‹œ/ë„/ì‹œêµ°êµ¬/ë„ë¡œëª…/ê±´ë¬¼ë²ˆí˜¸ ë¶„ë¦¬
```

**ì„¸ë¶€ ì½”ë“œ íë¦„:**
- `address_parser.dart:4` - `parseAddress1st()` ë©”ì„œë“œë¡œ 1ì°¨ íŒŒì‹±
- `address_parser.dart:15` - RegionConstants.sidoSigunguMapì—ì„œ ì‹œ/ë„ ë§¤ì¹­
- `address_parser.dart:25` - ì •ê·œì‹ìœ¼ë¡œ ë„ë¡œëª…ê³¼ ê±´ë¬¼ë²ˆí˜¸ ë¶„ë¦¬
- `address_parser.dart:52` - `parseDetailAddress()` ë©”ì„œë“œë¡œ ë™/í˜¸ íŒŒì‹±
- `address_parser.dart:60` - "ì œ211ë™ ì œ15,16ì¸µ ì œ1506í˜¸" í˜•ì‹ íŒŒì‹±

### 3. ë“±ê¸°ë¶€ë“±ë³¸ ì¡°íšŒ í”„ë¡œì„¸ìŠ¤
```
íŒŒì‹±ëœ ì£¼ì†Œ â†’ RegisterService â†’ CODEF API â†’ ì†Œìœ ì ê²€ì¦ â†’ ê²°ê³¼ í‘œì‹œ
```

**ì„¸ë¶€ ì½”ë“œ íë¦„:**
- `home_page.dart:220` - `searchRegister()` ë©”ì„œë“œ ì‹¤í–‰
- `home_page.dart:230` - ë™/í˜¸ í•„ìˆ˜ ì²´í¬
- `register_service.dart:15` - `getCodefAccessToken()` ë©”ì„œë“œë¡œ í† í° ë°œê¸‰
- `register_service.dart:60` - `getRealEstateRegister()` ë©”ì„œë“œ ì‹¤í–‰
- `register_service.dart:80` - RSA ì•”í˜¸í™”ë¡œ ë¹„ë°€ë²ˆí˜¸ ì•”í˜¸í™”
- `register_service.dart:100` - CODEF API POST ìš”ì²­
- `home_page.dart:70` - `checkOwnerName()` ë©”ì„œë“œë¡œ ì†Œìœ ì ê²€ì¦
- `owner_parser.dart:1` - `extractOwnerNames()` ë©”ì„œë“œë¡œ ì†Œìœ ì ì´ë¦„ ì¶”ì¶œ

### 4. ê³„ì•½ì„œ ì‘ì„± í”„ë¡œì„¸ìŠ¤
```
ë“±ê¸°ë¶€ë“±ë³¸ ë°ì´í„° â†’ CurrentStateParser â†’ ìë™ í¼ ì…ë ¥ â†’ ì‚¬ìš©ì ìˆ˜ì • â†’ PDF ìƒì„±
```

**ì„¸ë¶€ ì½”ë“œ íë¦„:**
- `home_page.dart:120` - `saveRegisterDataToDatabase()` ë©”ì„œë“œ ì‹¤í–‰
- `current_state_parser.dart:100` - `parseCurrentState()` ë©”ì„œë“œë¡œ JSON íŒŒì‹±
- `current_state_parser.dart:120` - Header, Ownership, Areas ì •ë³´ ì¶”ì¶œ
- `contract_input_form.dart:30` - `_autoFillFromParsedData()` ë©”ì„œë“œë¡œ ìë™ ì…ë ¥
- `contract_input_form.dart:40` - ì†Œìœ ì ì •ë³´ ìë™ ì±„ì›€
- `contract_input_form.dart:50` - ë¶€ë™ì‚° ì •ë³´ ìë™ ì±„ì›€
- `contract_input_form.dart:60` - ê±´ë¬¼ êµ¬ì¡° ì •ì œ ë° ë©´ì  íŒŒì‹±
- `contract_input_form.dart:150` - í¼ UI êµ¬ì„± ë° ì‚¬ìš©ì ì…ë ¥ ìˆ˜ì§‘

### 5. ìƒì„¸ ë‚´ìš© ì…ë ¥ í”„ë¡œì„¸ìŠ¤
```
ê¸°ë³¸ ê³„ì•½ì„œ â†’ WhathouseDetailFormScreen â†’ ìƒì„¸ ì •ë³´ ì…ë ¥ â†’ ì €ì¥
```

**ì„¸ë¶€ ì½”ë“œ íë¦„:**
- `whathouse_detail_form.dart:200` - ìˆ˜ë„, ì „ê¸°, ê°€ìŠ¤, ë‚œë°© ë“± ìƒì„¸ ì…ë ¥
- `whathouse_detail_form.dart:250` - ê° í•­ëª©ë³„ ë¼ë””ì˜¤ ë²„íŠ¼ ë° í…ìŠ¤íŠ¸ í•„ë“œ
- `whathouse_detail_form.dart:300` - í¼ ë°ì´í„° ìˆ˜ì§‘ ë° ê²€ì¦
- `whathouse_detail_form.dart:50` - `_submitForm()` ë©”ì„œë“œë¡œ ì €ì¥

### 6. ë§¤ë¬¼ ê´€ë¦¬ í”„ë¡œì„¸ìŠ¤
```
Property ëª¨ë¸ ìƒì„± â†’ ë©”ëª¨ë¦¬ ì €ì¥ â†’ ëª©ë¡ í‘œì‹œ â†’ ìƒì„¸ ì •ë³´ í‘œì‹œ
```

**ì„¸ë¶€ ì½”ë“œ íë¦„:**
- `home_page.dart:140` - Property ê°ì²´ ìƒì„±
- `property.dart:1` - Property ëª¨ë¸ ì •ì˜ (id, address, transactionType, price ë“±)
- `home_page.dart:50` - `_addProperty()` ë©”ì„œë“œë¡œ ë©”ëª¨ë¦¬ ì €ì¥
- `main.dart:350` - HouseMarketPageì—ì„œ ë§¤ë¬¼ ëª©ë¡ í‘œì‹œ
- `main.dart:380` - ListView.builderë¡œ ë§¤ë¬¼ ì¹´ë“œ ë Œë”ë§
- `main.dart:400` - ë“±ê¸°ë¶€ë“±ë³¸ ë°ì´í„°ì—ì„œ ê°€ê²© ì •ë³´ íŒŒì‹±

## ğŸ”§ í•µì‹¬ ì„œë¹„ìŠ¤ ë¶„ì„

### AddressService (ì£¼ì†Œ ê²€ìƒ‰)
- **íŒŒì¼**: `lib/services/address_service.dart`
- **ì£¼ìš” ë©”ì„œë“œ**: `searchRoadAddress()`, `getAddressDetail()`
- **API**: ë„ë¡œëª…ì£¼ì†Œ API (juso.go.kr)
- **í‚¤ì›Œë“œ**: 4ì ì´ìƒ í•„ìˆ˜, í˜ì´ì§€ë„¤ì´ì…˜ ì§€ì›

### RegisterService (ë“±ê¸°ë¶€ë“±ë³¸ ì¡°íšŒ)
- **íŒŒì¼**: `lib/services/register_service.dart`
- **ì£¼ìš” ë©”ì„œë“œ**: `getCodefAccessToken()`, `getRealEstateRegister()`, `rsaEncrypt()`
- **API**: CODEF API (ë“±ê¸°ë¶€ë“±ë³¸ ì¡°íšŒ)
- **ëª¨ë“œ**: ì‹¤ì œ API / í…ŒìŠ¤íŠ¸ ëª¨ë“œ (testcase.txt)

### CurrentStateParser (ë“±ê¸°ë¶€ë“±ë³¸ íŒŒì‹±)
- **íŒŒì¼**: `lib/utils/current_state_parser.dart`
- **ì£¼ìš” í´ë˜ìŠ¤**: Header, Ownership, LandArea, BuildingArea, Lien
- **ê¸°ëŠ¥**: JSONì„ êµ¬ì¡°í™”ëœ ê°ì²´ë¡œ ë³€í™˜

## ğŸ“Š ë°ì´í„° ëª¨ë¸ ë¶„ì„

### Property ëª¨ë¸
```dart
class Property {
  final int? id;                    // SQLite ID
  final String address;             // ë¶€ë™ì‚° ì£¼ì†Œ
  final String transactionType;     // ê±°ë˜ ìœ í˜•
  final int price;                  // ê°€ê²©
  final String registerData;        // ë“±ê¸°ë¶€ë“±ë³¸ ì›ë³¸ JSON
  final String registerSummary;     // ë“±ê¸°ë¶€ë“±ë³¸ ìš”ì•½ ì •ë³´
  final String contractStatus;      // ê³„ì•½ ìƒíƒœ
  final String mainContractor;      // ëŒ€í‘œ ê³„ì•½ì
  final String contractor;          // ê³„ì•½ì
  final DateTime createdAt;         // ìƒì„±ì¼
}
```

## ğŸ¯ í•µì‹¬ ê¸°ëŠ¥ë³„ ì„¸ë¶€ ë¡œì§

### 1. ì†Œìœ ì ê²€ì¦ ë¡œì§
- **íŒŒì¼**: `lib/utils/owner_parser.dart`
- **íŒ¨í„´**: "ì†Œìœ ì+í™ê¸¸ë™", "ì†Œìœ ì: í™ê¸¸ë™"
- **ê²€ì¦**: ë¡œê·¸ì¸ ì‚¬ìš©ìì™€ ë“±ê¸°ë¶€ë“±ë³¸ ì†Œìœ ì ì¼ì¹˜ ì—¬ë¶€

### 2. ì£¼ì†Œ íŒŒì‹± ë¡œì§
- **1ì°¨ íŒŒì‹±**: ì‹œ/ë„, ì‹œêµ°êµ¬, ë„ë¡œëª…, ê±´ë¬¼ë²ˆí˜¸ ë¶„ë¦¬
- **2ì°¨ íŒŒì‹±**: ë™/í˜¸ ì •ë³´ ì¶”ì¶œ
- **ì •ê·œì‹**: ë³µì¡í•œ ì£¼ì†Œ í˜•ì‹ ì§€ì›

### 3. ê³„ì•½ì„œ ìë™ ì…ë ¥ ë¡œì§
- **ì†Œìœ ì ì •ë³´**: ë“±ê¸°ë¶€ë“±ë³¸ì—ì„œ ìë™ ì¶”ì¶œ
- **ë¶€ë™ì‚° ì •ë³´**: ì£¼ì†Œ, ë©´ì , êµ¬ì¡° ì •ë³´ ìë™ ì…ë ¥
- **ì •ì œ**: ë¶ˆí•„ìš”í•œ ë²•ì¡°ë¬¸, íŠ¹ìˆ˜ë¬¸ì ì œê±°

### 4. ë§¤ë¬¼ ê´€ë¦¬ ë¡œì§
- **ì €ì¥**: í˜„ì¬ ë©”ëª¨ë¦¬ ê¸°ë°˜ (DB ë¯¸ì—°ë™)
- **í‘œì‹œ**: ListView.builderë¡œ ì¹´ë“œ í˜•íƒœ í‘œì‹œ
- **íŒŒì‹±**: ë“±ê¸°ë¶€ë“±ë³¸ JSONì—ì„œ ê°€ê²© ì •ë³´ ì¶”ì¶œ

## ğŸš€ ì‹¤í–‰ íë¦„ ìš”ì•½

1. **ë¡œê·¸ì¸** (test/1234) â†’ **ë©”ì¸í˜ì´ì§€**
2. **ë‚´ì§‘íŒ”ê¸°** â†’ **ì£¼ì†Œê²€ìƒ‰** â†’ **ë“±ê¸°ë¶€ë“±ë³¸ì¡°íšŒ** â†’ **ê³„ì•½ì„œì‘ì„±**
3. **ê³„ì•½ì„œì‘ì„±** â†’ **ê¸°ë³¸ì •ë³´ì…ë ¥** â†’ **ìƒì„¸ë‚´ìš©ì…ë ¥** â†’ **ì €ì¥**
4. **ê³„ì•½ê´€ë¦¬** â†’ **ì‘ì„±ëœ ê³„ì•½ì„œ ëª©ë¡**
5. **ë‚´ì§‘ì‚¬ê¸°** â†’ **ë§¤ë¬¼ ëª©ë¡ í‘œì‹œ**

## âš ï¸ ì£¼ìš” ì œì•½ì‚¬í•­

- **ë°ì´í„°ë² ì´ìŠ¤**: ë©”ëª¨ë¦¬ ê¸°ë°˜ ì €ì¥ (ì•± ì¬ì‹œì‘ ì‹œ ë°ì´í„° ì†ì‹¤)
- **API í‚¤**: í•˜ë“œì½”ë”©ëœ í…ŒìŠ¤íŠ¸ í‚¤ ì‚¬ìš©
- **ë³´ì•ˆ**: ì‹¤ì œ ìš´ì˜ í™˜ê²½ ë³´ì•ˆ ê°•í™” í•„ìš”
- **ì—ëŸ¬ ì²˜ë¦¬**: ë„¤íŠ¸ì›Œí¬ ì˜¤ë¥˜ ì²˜ë¦¬ ê°œì„  í•„ìš” 