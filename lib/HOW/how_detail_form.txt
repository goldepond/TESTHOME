# ìƒì„¸ ë‚´ìš© ì…ë ¥ í”„ë¡œì„¸ìŠ¤ ìƒì„¸ ë¶„ì„

## ğŸ“‹ ìƒì„¸ ë‚´ìš© ì…ë ¥ ì „ì²´ íë¦„

### 1. ìƒì„¸ ë‚´ìš© ì…ë ¥ ì§„ì… ë‹¨ê³„

#### 1.1 ìƒì„¸ ë‚´ìš© ì…ë ¥ í™”ë©´ ì´ˆê¸°í™” (lib/screens/whathouse_detail_form.dart ë¼ì¸ 1-30)
```dart
class WhathouseDetailFormScreen extends StatefulWidget {
  final Map<String, dynamic>? initialData;              // ì´ˆê¸° ë°ì´í„° (ë“±ê¸°ë¶€ë“±ë³¸ ì •ë³´)
  final String userName;                                // ì‚¬ìš©ì ì´ë¦„
  const WhathouseDetailFormScreen({Key? key, required this.initialData, required this.userName});
}

class _WhathouseDetailFormScreenState extends State<WhathouseDetailFormScreen> {
  final _formKey = GlobalKey<FormState>();              // í¼ ê²€ì¦ìš© í‚¤
  final Map<String, dynamic> _formData = {};            // í¼ ë°ì´í„° ì €ì¥ì†Œ
  
  // ê¸ˆì•¡ ê´€ë ¨ ë³€ìˆ˜ë“¤
  int totalAmount = 0;                                  // ì´ ê¸ˆì•¡
  int depositAmount = 0;                                // ë³´ì¦ê¸ˆ
  int monthlyRent = 0;                                  // ì›”ì„¸
  int managementFee = 0;                                // ê´€ë¦¬ë¹„
  
  @override
  void initState() {
    super.initState();
    // ì´ˆê¸° ë°ì´í„°ë¡œ í¼ ìë™ ì…ë ¥
    _initializeFormData();
  }
```

#### 1.2 í¼ ë°ì´í„° ì´ˆê¸°í™” (lib/screens/whathouse_detail_form.dart ë¼ì¸ 25-35)
```dart
// ì´ˆê¸° ë°ì´í„°ë¡œ í¼ ìë™ ì…ë ¥
void _initializeFormData() {
  if (widget.initialData != null) {
    try {
      // ë“±ê¸°ë¶€ë“±ë³¸ ë°ì´í„° íŒŒì‹±
      final rawJson = json.encode(widget.initialData);
      final currentState = parseCurrentState(rawJson);
      
      // ê¸°ë³¸ ì •ë³´ ìë™ ì…ë ¥
      _formData['property_address'] = currentState.header.realtyDesc;  // ë¶€ë™ì‚° ì£¼ì†Œ
      _formData['property_type'] = currentState.building.structure;    // ê±´ë¬¼ êµ¬ì¡°
      _formData['property_area'] = currentState.building.areaTotal;    // ê±´ë¬¼ ë©´ì 
      _formData['owner_name'] = currentState.ownership.ownerRaw;       // ì†Œìœ ì ì´ë¦„
      _formData['owner_address'] = currentState.ownership.ownerAddress; // ì†Œìœ ì ì£¼ì†Œ
      _formData['registration_office'] = currentState.header.officeName; // ë“±ê¸°ì†Œ
      _formData['registration_number'] = currentState.header.publishNo;  // ë“±ê¸°ë²ˆí˜¸
      
      // ê¸°ë³¸ ê³„ì•½ ì¡°ê±´ ì„¤ì •
      _formData['transaction_type'] = 'ë§¤ë§¤';                          // ê±°ë˜ ìœ í˜•
      _formData['deposit_amount'] = '10000000';                        // ë³´ì¦ê¸ˆ (ê¸°ë³¸ê°’: 1000ë§Œì›)
      _formData['monthly_rent'] = '0';                                 // ì›”ì„¸ (ë§¤ë§¤ëŠ” 0)
      _formData['management_fee'] = '0';                               // ê´€ë¦¬ë¹„ (ë§¤ë§¤ëŠ” 0)
      _formData['contractor_name'] = widget.userName;                  // ê³„ì•½ì (ë¡œê·¸ì¸ ì‚¬ìš©ì)
      
      // ê¸ˆì•¡ ê³„ì‚°
      _saveTotalAmount();
      
    } catch (e) {
      print('ì´ˆê¸° ë°ì´í„° íŒŒì‹± ì˜¤ë¥˜: $e');
      _setDefaultValues();
    }
  } else {
    _setDefaultValues();
  }
  
  setState(() {});
}
```

#### 1.3 ê¸°ë³¸ê°’ ì„¤ì • (lib/screens/whathouse_detail_form.dart ë¼ì¸ 35-50)
```dart
// ê¸°ë³¸ê°’ ì„¤ì • (íŒŒì‹± ì‹¤íŒ¨ ì‹œ ì‚¬ìš©)
void _setDefaultValues() {
  _formData['transaction_type'] = 'ë§¤ë§¤';
  _formData['deposit_amount'] = '10000000';
  _formData['monthly_rent'] = '0';
  _formData['management_fee'] = '0';
  _formData['contractor_name'] = widget.userName;
  _formData['property_address'] = '';
  _formData['property_type'] = '';
  _formData['property_area'] = '';
  _formData['owner_name'] = '';
  _formData['owner_address'] = '';
  _formData['registration_office'] = '';
  _formData['registration_number'] = '';
  
  _saveTotalAmount();
}
```

### 2. ì´ ê¸ˆì•¡ ê³„ì‚° ë‹¨ê³„

#### 2.1 ì´ ê¸ˆì•¡ ê³„ì‚° í•¨ìˆ˜ (lib/screens/whathouse_detail_form.dart ë¼ì¸ 25-35)
```dart
// ì´ ê¸ˆì•¡ ê³„ì‚° ë° ì €ì¥
void _saveTotalAmount() {
  try {
    // ë³´ì¦ê¸ˆ íŒŒì‹±
    depositAmount = int.tryParse(_formData['deposit_amount']?.toString().replaceAll(',', '') ?? '0') ?? 0;
    
    // ì›”ì„¸ íŒŒì‹± (12ê°œì›”ì¹˜)
    monthlyRent = int.tryParse(_formData['monthly_rent']?.toString().replaceAll(',', '') ?? '0') ?? 0;
    final yearlyRent = monthlyRent * 12;
    
    // ê´€ë¦¬ë¹„ íŒŒì‹± (12ê°œì›”ì¹˜)
    managementFee = int.tryParse(_formData['management_fee']?.toString().replaceAll(',', '') ?? '0') ?? 0;
    final yearlyManagementFee = managementFee * 12;
    
    // ì´ ê¸ˆì•¡ ê³„ì‚°
    totalAmount = depositAmount + yearlyRent + yearlyManagementFee;
    
    // í¼ ë°ì´í„°ì— ì´ ê¸ˆì•¡ ì €ì¥
    _formData['total_amount'] = totalAmount.toString();
    
    print('ê¸ˆì•¡ ê³„ì‚° ì™„ë£Œ: ë³´ì¦ê¸ˆ=$depositAmount, ì›”ì„¸=$monthlyRent, ê´€ë¦¬ë¹„=$managementFee, ì´ì•¡=$totalAmount');
    
  } catch (e) {
    print('ê¸ˆì•¡ ê³„ì‚° ì˜¤ë¥˜: $e');
    totalAmount = 0;
    _formData['total_amount'] = '0';
  }
}
```

### 3. í¼ UI êµ¬ì„± ë‹¨ê³„

#### 3.1 ë©”ì¸ í¼ êµ¬ì¡° (lib/screens/whathouse_detail_form.dart ë¼ì¸ 100-200)
```dart
@override
Widget build(BuildContext context) {
  return Scaffold(
    appBar: AppBar(
      title: const Text('ìƒì„¸ ë‚´ìš© ì…ë ¥'),
      backgroundColor: AppColors.kBrown,
      foregroundColor: Colors.white,
    ),
    body: Form(
      key: _formKey,                                    // í¼ ê²€ì¦ í‚¤
      child: SingleChildScrollView(
        padding: const EdgeInsets.all(16.0),
        child: Column(
          crossAxisAlignment: CrossAxisAlignment.start,
          children: [
            // 1. ë¶€ë™ì‚° ì •ë³´ ì„¹ì…˜
            _buildSectionTitle('ë¶€ë™ì‚° ì •ë³´'),
            _textField('property_address', 'ë¶€ë™ì‚° ì£¼ì†Œ', 'ë¶€ë™ì‚° ì£¼ì†Œ'),
            _textField('property_type', 'ê±´ë¬¼ êµ¬ì¡°', 'ê±´ë¬¼ êµ¬ì¡°'),
            _textField('property_area', 'ê±´ë¬¼ ë©´ì ', 'ê±´ë¬¼ ë©´ì '),
            
            const SizedBox(height: 20),
            
            // 2. ì†Œìœ ì ì •ë³´ ì„¹ì…˜
            _buildSectionTitle('ì†Œìœ ì ì •ë³´'),
            _textField('owner_name', 'ì†Œìœ ì ì´ë¦„', 'ì†Œìœ ì ì´ë¦„'),
            _textField('owner_address', 'ì†Œìœ ì ì£¼ì†Œ', 'ì†Œìœ ì ì£¼ì†Œ'),
            
            const SizedBox(height: 20),
            
            // 3. ê±°ë˜ ì¡°ê±´ ì„¹ì…˜
            _buildSectionTitle('ê±°ë˜ ì¡°ê±´'),
            _radioGroup('transaction_type', 'ê±°ë˜ ìœ í˜•', ['ë§¤ë§¤', 'ì „ì„¸', 'ì›”ì„¸']),
            _numberField('deposit_amount', 'ë³´ì¦ê¸ˆ', 'ë³´ì¦ê¸ˆ (ì›)'),
            _numberField('monthly_rent', 'ì›”ì„¸', 'ì›”ì„¸ (ì›)'),
            _numberField('management_fee', 'ê´€ë¦¬ë¹„', 'ê´€ë¦¬ë¹„ (ì›)'),
            
            // ì´ ê¸ˆì•¡ í‘œì‹œ
            Container(
              width: double.infinity,
              padding: const EdgeInsets.all(16),
              margin: const EdgeInsets.symmetric(vertical: 8),
              decoration: BoxDecoration(
                color: AppColors.kLightBrown,
                borderRadius: BorderRadius.circular(8),
                border: Border.all(color: AppColors.kBrown),
              ),
              child: Column(
                crossAxisAlignment: CrossAxisAlignment.start,
                children: [
                  const Text(
                    'ì´ ê±°ë˜ ê¸ˆì•¡',
                    style: TextStyle(
                      fontSize: 16,
                      fontWeight: FontWeight.bold,
                      color: AppColors.kBrown,
                    ),
                  ),
                  const SizedBox(height: 8),
                  Text(
                    '${totalAmount.toString().replaceAllMapped(
                      RegExp(r'(\d{1,3})(?=(\d{3})+(?!\d))'),
                      (Match m) => '${m[1]},'
                    )}ì›',
                    style: const TextStyle(
                      fontSize: 24,
                      fontWeight: FontWeight.bold,
                      color: AppColors.kBrown,
                    ),
                  ),
                  const SizedBox(height: 4),
                  Text(
                    '(ë³´ì¦ê¸ˆ: ${depositAmount.toString().replaceAllMapped(
                      RegExp(r'(\d{1,3})(?=(\d{3})+(?!\d))'),
                      (Match m) => '${m[1]},'
                    )}ì› + ì›”ì„¸: ${(monthlyRent * 12).toString().replaceAllMapped(
                      RegExp(r'(\d{1,3})(?=(\d{3})+(?!\d))'),
                      (Match m) => '${m[1]},'
                    )}ì› + ê´€ë¦¬ë¹„: ${(managementFee * 12).toString().replaceAllMapped(
                      RegExp(r'(\d{1,3})(?=(\d{3})+(?!\d))'),
                      (Match m) => '${m[1]},'
                    )}ì›)',
                    style: TextStyle(
                      fontSize: 12,
                      color: Colors.grey[600],
                    ),
                  ),
                ],
              ),
            ),
            
            const SizedBox(height: 20),
            
            // 4. ê³„ì•½ì ì •ë³´ ì„¹ì…˜
            _buildSectionTitle('ê³„ì•½ì ì •ë³´'),
            _textField('contractor_name', 'ê³„ì•½ì ì´ë¦„', 'ê³„ì•½ì ì´ë¦„'),
            _textField('contractor_phone', 'ê³„ì•½ì ì „í™”ë²ˆí˜¸', 'ê³„ì•½ì ì „í™”ë²ˆí˜¸'),
            _textField('contractor_address', 'ê³„ì•½ì ì£¼ì†Œ', 'ê³„ì•½ì ì£¼ì†Œ'),
            
            const SizedBox(height: 20),
            
            // 5. ë“±ê¸° ì •ë³´ ì„¹ì…˜
            _buildSectionTitle('ë“±ê¸° ì •ë³´'),
            _textField('registration_office', 'ë“±ê¸°ì†Œ', 'ë“±ê¸°ì†Œ'),
            _textField('registration_number', 'ë“±ê¸°ë²ˆí˜¸', 'ë“±ê¸°ë²ˆí˜¸'),
            
            const SizedBox(height: 20),
            
            // 6. íŠ¹ë³„ì•½ì • ì„¹ì…˜
            _buildSectionTitle('íŠ¹ë³„ì•½ì •'),
            _textField('special_agreement', 'íŠ¹ë³„ì•½ì •', 'íŠ¹ë³„ì•½ì • ì‚¬í•­'),
            
            const SizedBox(height: 30),
            
            // 7. ë²„íŠ¼ ì„¹ì…˜
            _buildButtons(),
          ],
        ),
      ),
    ),
  );
}
```

#### 3.2 ì„¹ì…˜ ì œëª© ìœ„ì ¯ (lib/screens/whathouse_detail_form.dart ë¼ì¸ 200-210)
```dart
// ì„¹ì…˜ ì œëª© ìœ„ì ¯
Widget _buildSectionTitle(String title) {
  return Padding(
    padding: const EdgeInsets.symmetric(vertical: 8.0),
    child: Text(
      title,
      style: const TextStyle(
        fontSize: 18,
        fontWeight: FontWeight.bold,
        color: AppColors.kBrown,
      ),
    ),
  );
}
```

### 4. í¼ í•„ë“œ ìœ„ì ¯ë“¤

#### 4.1 í…ìŠ¤íŠ¸ í•„ë“œ ìœ„ì ¯ (lib/screens/whathouse_detail_form.dart ë¼ì¸ 75-95)
```dart
// í…ìŠ¤íŠ¸ í•„ë“œ ìœ„ì ¯
Widget _textField(String key, String label, String hint) {
  return Padding(
    padding: const EdgeInsets.symmetric(vertical: 8.0),
    child: TextFormField(
      initialValue: _formData[key] ?? '',              // ì´ˆê¸°ê°’ ì„¤ì •
      decoration: InputDecoration(
        labelText: label,                              // ë¼ë²¨ í…ìŠ¤íŠ¸
        hintText: hint,                                // íŒíŠ¸ í…ìŠ¤íŠ¸
        border: OutlineInputBorder(
          borderRadius: BorderRadius.circular(8),
        ),
        filled: true,
        fillColor: Colors.grey[50],
      ),
      onChanged: (value) {
        _formData[key] = value;                        // ê°’ ë³€ê²½ ì‹œ ì €ì¥
      },
      validator: (value) {
        if (value == null || value.isEmpty) {
          return '$labelì„(ë¥¼) ì…ë ¥í•´ì£¼ì„¸ìš”.';           // í•„ìˆ˜ ì…ë ¥ ê²€ì¦
        }
        return null;
      },
    ),
  );
}
```

#### 4.2 ìˆ«ì í•„ë“œ ìœ„ì ¯ (lib/screens/whathouse_detail_form.dart ë¼ì¸ 122-125)
```dart
// ìˆ«ì í•„ë“œ ìœ„ì ¯ (ê¸ˆì•¡ ì…ë ¥ìš©)
Widget _numberField(String key, String label, String hint) {
  return Padding(
    padding: const EdgeInsets.symmetric(vertical: 8.0),
    child: TextFormField(
      initialValue: _formData[key] ?? '',              // ì´ˆê¸°ê°’ ì„¤ì •
      keyboardType: TextInputType.number,              // ìˆ«ì í‚¤ë³´ë“œ
      decoration: InputDecoration(
        labelText: label,                              // ë¼ë²¨ í…ìŠ¤íŠ¸
        hintText: hint,                                // íŒíŠ¸ í…ìŠ¤íŠ¸
        border: OutlineInputBorder(
          borderRadius: BorderRadius.circular(8),
        ),
        filled: true,
        fillColor: Colors.grey[50],
        suffixText: 'ì›',                              // ë‹¨ìœ„ í‘œì‹œ
      ),
      onChanged: (value) {
        _formData[key] = value;                        // ê°’ ë³€ê²½ ì‹œ ì €ì¥
        _saveTotalAmount();                            // ì´ ê¸ˆì•¡ ì¬ê³„ì‚°
      },
      validator: (value) {
        if (value == null || value.isEmpty) {
          return '$labelì„(ë¥¼) ì…ë ¥í•´ì£¼ì„¸ìš”.';           // í•„ìˆ˜ ì…ë ¥ ê²€ì¦
        }
        // ìˆ«ì í˜•ì‹ ê²€ì¦
        if (int.tryParse(value.replaceAll(',', '')) == null) {
          return 'ìˆ«ìë¡œ ì…ë ¥í•´ì£¼ì„¸ìš”.';
        }
        return null;
      },
    ),
  );
}
```

#### 4.3 ë¼ë””ì˜¤ ë²„íŠ¼ ê·¸ë£¹ ìœ„ì ¯ (lib/screens/whathouse_detail_form.dart ë¼ì¸ 97-120)
```dart
// ë¼ë””ì˜¤ ë²„íŠ¼ ê·¸ë£¹ ìœ„ì ¯
Widget _radioGroup(String key, String label, List<String> options) {
  return Padding(
    padding: const EdgeInsets.symmetric(vertical: 8.0),
    child: Column(
      crossAxisAlignment: CrossAxisAlignment.start,
      children: [
        Text(
          label,
          style: const TextStyle(
            fontSize: 16,
            fontWeight: FontWeight.w500,
          ),
        ),
        const SizedBox(height: 8),
        ...options.map((option) => RadioListTile<String>(
          title: Text(option),
          value: option,
          groupValue: _formData[key] ?? options.first,  // í˜„ì¬ ì„ íƒëœ ê°’
          onChanged: (value) {
            setState(() {
              _formData[key] = value;                  // ì„ íƒ ë³€ê²½ ì‹œ ì €ì¥
              
              // ê±°ë˜ ìœ í˜• ë³€ê²½ ì‹œ ê¸°ë³¸ê°’ ì¡°ì •
              if (key == 'transaction_type') {
                if (value == 'ë§¤ë§¤') {
                  _formData['monthly_rent'] = '0';
                  _formData['management_fee'] = '0';
                } else if (value == 'ì „ì„¸') {
                  _formData['monthly_rent'] = '0';
                  _formData['management_fee'] = '50000';
                } else if (value == 'ì›”ì„¸') {
                  _formData['monthly_rent'] = '500000';
                  _formData['management_fee'] = '50000';
                }
                _saveTotalAmount();                    // ì´ ê¸ˆì•¡ ì¬ê³„ì‚°
              }
            });
          },
          contentPadding: EdgeInsets.zero,
        )),
      ],
    ),
  );
}
```

### 5. í¼ ì œì¶œ ë° ê²€ì¦

#### 5.1 ë²„íŠ¼ ì„¹ì…˜ (lib/screens/whathouse_detail_form.dart ë¼ì¸ 300-330)
```dart
// ë²„íŠ¼ ì„¹ì…˜
Widget _buildButtons() {
  return Row(
    children: [
      // ì´ˆê¸°í™” ë²„íŠ¼
      Expanded(
        child: ElevatedButton(
          onPressed: _resetForm,                       // í¼ ì´ˆê¸°í™”
          style: ElevatedButton.styleFrom(
            backgroundColor: Colors.grey,
            foregroundColor: Colors.white,
            padding: const EdgeInsets.symmetric(vertical: 16),
            shape: RoundedRectangleBorder(
              borderRadius: BorderRadius.circular(8),
            ),
          ),
          child: const Text('ì´ˆê¸°í™”'),
        ),
      ),
      const SizedBox(width: 16),
      // ì œì¶œ ë²„íŠ¼
      Expanded(
        child: ElevatedButton(
          onPressed: _submitForm,                      // í¼ ì œì¶œ
          style: ElevatedButton.styleFrom(
            backgroundColor: AppColors.kBrown,
            foregroundColor: Colors.white,
            padding: const EdgeInsets.symmetric(vertical: 16),
            shape: RoundedRectangleBorder(
              borderRadius: BorderRadius.circular(8),
            ),
          ),
          child: const Text('ì œì¶œ'),
        ),
      ),
    ],
  );
}
```

#### 5.2 í¼ ì´ˆê¸°í™” í•¨ìˆ˜ (lib/screens/whathouse_detail_form.dart ë¼ì¸ 330-350)
```dart
// í¼ ì´ˆê¸°í™” í•¨ìˆ˜
void _resetForm() {
  setState(() {
    _formData.clear();                                 // í¼ ë°ì´í„° ì´ˆê¸°í™”
  });
  
  // ì´ˆê¸° ë°ì´í„°ë¡œ ë‹¤ì‹œ ì„¤ì •
  _initializeFormData();
  
  ScaffoldMessenger.of(context).showSnackBar(
    const SnackBar(
      content: Text('í¼ì´ ì´ˆê¸°í™”ë˜ì—ˆìŠµë‹ˆë‹¤.'),
      backgroundColor: Colors.blue,
    ),
  );
}
```

#### 5.3 í¼ ì œì¶œ í•¨ìˆ˜ (lib/screens/whathouse_detail_form.dart ë¼ì¸ 37-65)
```dart
// í¼ ì œì¶œ í•¨ìˆ˜
void _submitForm() {
  // 1. í¼ ê²€ì¦ ì‹¤í–‰
  if (!_formKey.currentState!.validate()) {
    ScaffoldMessenger.of(context).showSnackBar(
      const SnackBar(
        content: Text('ì…ë ¥ ì •ë³´ë¥¼ í™•ì¸í•´ì£¼ì„¸ìš”.'),
        backgroundColor: Colors.red,
      ),
    );
    return;
  }
  
  // 2. í•„ìˆ˜ í•„ë“œ ê²€ì¦
  final requiredFields = [
    'property_address', 'owner_name', 'deposit_amount',
    'contractor_name'
  ];
  
  for (final field in requiredFields) {
    if (_formData[field] == null || _formData[field].toString().isEmpty) {
      ScaffoldMessenger.of(context).showSnackBar(
        SnackBar(
          content: Text('$field í•„ë“œë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.'),
          backgroundColor: Colors.red,
        ),
      );
      return;
    }
  }
  
  // 3. ê¸ˆì•¡ ê²€ì¦
  if (totalAmount <= 0) {
    ScaffoldMessenger.of(context).showSnackBar(
      const SnackBar(
        content: Text('ì´ ê±°ë˜ ê¸ˆì•¡ì€ 0ë³´ë‹¤ ì»¤ì•¼ í•©ë‹ˆë‹¤.'),
        backgroundColor: Colors.red,
      ),
    );
    return;
  }
  
  // 4. ê±°ë˜ ìœ í˜•ë³„ ê²€ì¦
  final transactionType = _formData['transaction_type'];
  if (transactionType == 'ì›”ì„¸' && monthlyRent <= 0) {
    ScaffoldMessenger.of(context).showSnackBar(
      const SnackBar(
        content: Text('ì›”ì„¸ ê±°ë˜ì˜ ê²½ìš° ì›”ì„¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.'),
        backgroundColor: Colors.red,
      ),
    );
    return;
  }
  
  // 5. ìƒì„¸ ë‚´ìš© ì…ë ¥ í™”ë©´ìœ¼ë¡œ ì´ë™
  Navigator.push(
    context,
    MaterialPageRoute(
      builder: (context) => WhathouseDetailFormScreen(
        initialData: _formData,                        // í¼ ë°ì´í„° ì „ë‹¬
        userName: widget.userName,                     // ì‚¬ìš©ì ì´ë¦„ ì „ë‹¬
      ),
    ),
  );
}
```

### 6. WhatHouse ê³„ì•½ì„œ í…œí”Œë¦¿ ì—°ë™

#### 6.1 WhatHouse ê³„ì•½ì„œ í…œí”Œë¦¿ íŒŒì¼ êµ¬ì¡° (assets/contracts/whathouse/)
```
whathouse/
â”œâ”€â”€ whathouse_01.html   # ê³„ì•½ì„œ í˜ì´ì§€ 1 (ê¸°ë³¸ ì •ë³´)
â”œâ”€â”€ whathouse_02.html   # ê³„ì•½ì„œ í˜ì´ì§€ 2 (ë¶€ë™ì‚° ì •ë³´)
â”œâ”€â”€ whathouse_03.html   # ê³„ì•½ì„œ í˜ì´ì§€ 3 (ê±°ë˜ ì¡°ê±´)
â”œâ”€â”€ whathouse_04.html   # ê³„ì•½ì„œ í˜ì´ì§€ 4 (ê³„ì•½ì ì •ë³´)
â”œâ”€â”€ whathouse_05.html   # ê³„ì•½ì„œ í˜ì´ì§€ 5 (ë“±ê¸° ì •ë³´)
â”œâ”€â”€ whathouse_06.html   # ê³„ì•½ì„œ í˜ì´ì§€ 6 (íŠ¹ë³„ì•½ì •)
â”œâ”€â”€ whathouse_07.html   # ê³„ì•½ì„œ í˜ì´ì§€ 7 (ì„œëª…)
â”œâ”€â”€ whathouse_08.html   # ê³„ì•½ì„œ í˜ì´ì§€ 8 (ë¶€ì¹™)
â”œâ”€â”€ whathouse_09.html   # ê³„ì•½ì„œ í˜ì´ì§€ 9 (ì²¨ë¶€ì„œë¥˜)
â”œâ”€â”€ whathouse_10.html   # ê³„ì•½ì„œ í˜ì´ì§€ 10 (ê¸°íƒ€)
â”œâ”€â”€ whathouse_11.html   # ê³„ì•½ì„œ í˜ì´ì§€ 11 (ì•½ê´€)
â”œâ”€â”€ whathouse_12.html   # ê³„ì•½ì„œ í˜ì´ì§€ 12 (ë§ˆë¬´ë¦¬)
â”œâ”€â”€ whathouse_custom.css # ì»¤ìŠ¤í…€ ìŠ¤íƒ€ì¼
â”œâ”€â”€ whathouse_style.css  # ê¸°ë³¸ ìŠ¤íƒ€ì¼
â””â”€â”€ whathouse_pdf.pdf    # ìƒ˜í”Œ PDF
```

#### 6.2 ê³„ì•½ì„œ ë°ì´í„° ë§¤í•‘
```javascript
// whathouse í…œí”Œë¦¿ì—ì„œ ì‚¬ìš©ë˜ëŠ” ë°ì´í„° ë§¤í•‘
const whathouseData = {
  // ë¶€ë™ì‚° ì •ë³´
  property_address: formData.property_address,
  property_type: formData.property_type,
  property_area: formData.property_area,
  
  // ì†Œìœ ì ì •ë³´
  owner_name: formData.owner_name,
  owner_address: formData.owner_address,
  
  // ê±°ë˜ ì¡°ê±´
  transaction_type: formData.transaction_type,
  deposit_amount: formData.deposit_amount,
  monthly_rent: formData.monthly_rent,
  management_fee: formData.management_fee,
  total_amount: formData.total_amount,
  
  // ê³„ì•½ì ì •ë³´
  contractor_name: formData.contractor_name,
  contractor_phone: formData.contractor_phone,
  contractor_address: formData.contractor_address,
  
  // ë“±ê¸° ì •ë³´
  registration_office: formData.registration_office,
  registration_number: formData.registration_number,
  
  // íŠ¹ë³„ì•½ì •
  special_agreement: formData.special_agreement,
  
  // ê³„ì‚°ëœ ì •ë³´
  yearly_rent: (parseInt(formData.monthly_rent) * 12).toString(),
  yearly_management_fee: (parseInt(formData.management_fee) * 12).toString(),
};
```

### 7. ì—ëŸ¬ ì²˜ë¦¬ ë° ê²€ì¦

#### 7.1 ì£¼ìš” ê²€ì¦ ê·œì¹™
1. **í•„ìˆ˜ í•„ë“œ ê²€ì¦**: ë¶€ë™ì‚° ì£¼ì†Œ, ì†Œìœ ì ì´ë¦„, ë³´ì¦ê¸ˆ, ê³„ì•½ì ì´ë¦„
2. **ê¸ˆì•¡ í˜•ì‹ ê²€ì¦**: ìˆ«ìë§Œ í—ˆìš© (ì‰¼í‘œ ì œê±°)
3. **ì´ ê¸ˆì•¡ ê²€ì¦**: 0ë³´ë‹¤ ì»¤ì•¼ í•¨
4. **ê±°ë˜ ìœ í˜•ë³„ ê²€ì¦**: ì›”ì„¸ëŠ” ì›”ì„¸ ê¸ˆì•¡ í•„ìˆ˜
5. **ì „í™”ë²ˆí˜¸ í˜•ì‹ ê²€ì¦**: ìˆ«ìì™€ í•˜ì´í”ˆë§Œ í—ˆìš©

#### 7.2 ì—ëŸ¬ ë©”ì‹œì§€ ì²˜ë¦¬
```dart
// ì‚¬ìš©ì ì¹œí™”ì  ì—ëŸ¬ ë©”ì‹œì§€
final errorMessages = {
  'required_field': 'í•„ìˆ˜ ì…ë ¥ í•­ëª©ì…ë‹ˆë‹¤.',
  'invalid_amount': 'ìˆ«ìë¡œ ì…ë ¥í•´ì£¼ì„¸ìš”.',
  'invalid_total_amount': 'ì´ ê±°ë˜ ê¸ˆì•¡ì€ 0ë³´ë‹¤ ì»¤ì•¼ í•©ë‹ˆë‹¤.',
  'invalid_monthly_rent': 'ì›”ì„¸ ê±°ë˜ì˜ ê²½ìš° ì›”ì„¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.',
  'invalid_phone': 'ì˜¬ë°”ë¥¸ ì „í™”ë²ˆí˜¸ í˜•ì‹ìœ¼ë¡œ ì…ë ¥í•´ì£¼ì„¸ìš”.',
};
```

### 8. ì„±ëŠ¥ ìµœì í™” ë° ê°œì„ ì‚¬í•­

#### 8.1 í˜„ì¬ êµ¬í˜„ì˜ ì¥ì 
1. **ì‹¤ì‹œê°„ ê³„ì‚°**: ê¸ˆì•¡ ë³€ê²½ ì‹œ ì¦‰ì‹œ ì´ì•¡ ì¬ê³„ì‚°
2. **ìë™ ì…ë ¥**: ë“±ê¸°ë¶€ë“±ë³¸ ë°ì´í„° ê¸°ë°˜ ìë™ ì…ë ¥
3. **ê±°ë˜ ìœ í˜•ë³„ ë¡œì§**: ê±°ë˜ ìœ í˜•ì— ë”°ë¥¸ ê¸°ë³¸ê°’ ìë™ ì„¤ì •
4. **ì‚¬ìš©ì ì¹œí™”ì  UI**: ì§ê´€ì ì¸ í¼ êµ¬ì„±

#### 8.2 ê°œì„  ê°€ëŠ¥í•œ ë¶€ë¶„
1. **ìë™ ì €ì¥**: ì„ì‹œ ì €ì¥ ê¸°ëŠ¥
2. **ì…ë ¥ íˆìŠ¤í† ë¦¬**: ì´ì „ ì…ë ¥ê°’ ê¸°ì–µ
3. **ì‹¤ì‹œê°„ ê²€ì¦**: ì…ë ¥ ì‹œì ì— ì¦‰ì‹œ ê²€ì¦
4. **ê³„ì‚°ê¸° ê¸°ëŠ¥**: ë³µì¡í•œ ê¸ˆì•¡ ê³„ì‚° ë„êµ¬
5. **í…œí”Œë¦¿ ì„ íƒ**: ë‹¤ì–‘í•œ ê³„ì•½ì„œ í…œí”Œë¦¿

### 9. ì‹¤ì œ ì‚¬ìš© ì˜ˆì‹œ

#### 9.1 ì •ìƒì ì¸ ìƒì„¸ ë‚´ìš© ì…ë ¥ íë¦„
```
1. ë“±ê¸°ë¶€ë“±ë³¸ ì¡°íšŒ ì„±ê³µ
2. "ìƒì„¸ ë‚´ìš© ì…ë ¥" ë²„íŠ¼ í´ë¦­
3. WhathouseDetailFormScreen í™”ë©´ ì´ë™
4. ë“±ê¸°ë¶€ë“±ë³¸ ë°ì´í„° ìë™ ì…ë ¥
5. ì‚¬ìš©ì ì¶”ê°€ ì •ë³´ ì…ë ¥
6. ì‹¤ì‹œê°„ ì´ ê¸ˆì•¡ ê³„ì‚°
7. í¼ ê²€ì¦ ì‹¤í–‰
8. WhatHouse ê³„ì•½ì„œ ì‘ì„± í™”ë©´ìœ¼ë¡œ ì´ë™
```

#### 9.2 ì—ëŸ¬ ìƒí™© ì²˜ë¦¬
```
1. í•„ìˆ˜ í•„ë“œ ëˆ„ë½: "ì…ë ¥ ì •ë³´ë¥¼ í™•ì¸í•´ì£¼ì„¸ìš”."
2. ê¸ˆì•¡ í˜•ì‹ ì˜¤ë¥˜: "ìˆ«ìë¡œ ì…ë ¥í•´ì£¼ì„¸ìš”."
3. ì´ ê¸ˆì•¡ 0 ì´í•˜: "ì´ ê±°ë˜ ê¸ˆì•¡ì€ 0ë³´ë‹¤ ì»¤ì•¼ í•©ë‹ˆë‹¤."
4. ì›”ì„¸ ê¸ˆì•¡ ëˆ„ë½: "ì›”ì„¸ ê±°ë˜ì˜ ê²½ìš° ì›”ì„¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”."
5. ë“±ê¸°ë¶€ë“±ë³¸ íŒŒì‹± ì‹¤íŒ¨: ê¸°ë³¸ê°’ìœ¼ë¡œ ì´ˆê¸°í™”
```

### 10. ê¸ˆì•¡ ê³„ì‚° ë¡œì§ ìƒì„¸

#### 10.1 ê±°ë˜ ìœ í˜•ë³„ ê³„ì‚° ë°©ì‹
```dart
// ê±°ë˜ ìœ í˜•ë³„ ê¸°ë³¸ê°’ ë° ê³„ì‚° ë¡œì§
void _updateTransactionType(String type) {
  switch (type) {
    case 'ë§¤ë§¤':
      // ë§¤ë§¤: ë³´ì¦ê¸ˆë§Œ (ì›”ì„¸, ê´€ë¦¬ë¹„ 0)
      _formData['monthly_rent'] = '0';
      _formData['management_fee'] = '0';
      break;
      
    case 'ì „ì„¸':
      // ì „ì„¸: ë³´ì¦ê¸ˆ + ê´€ë¦¬ë¹„ (ì›”ì„¸ 0)
      _formData['monthly_rent'] = '0';
      _formData['management_fee'] = '50000';  // ê¸°ë³¸ ê´€ë¦¬ë¹„
      break;
      
    case 'ì›”ì„¸':
      // ì›”ì„¸: ë³´ì¦ê¸ˆ + ì›”ì„¸ + ê´€ë¦¬ë¹„
      _formData['monthly_rent'] = '500000';   // ê¸°ë³¸ ì›”ì„¸
      _formData['management_fee'] = '50000';  // ê¸°ë³¸ ê´€ë¦¬ë¹„
      break;
  }
  
  _saveTotalAmount();  // ì´ ê¸ˆì•¡ ì¬ê³„ì‚°
}
```

#### 10.2 ì´ ê¸ˆì•¡ ê³„ì‚° ê³µì‹
```dart
// ì´ ê¸ˆì•¡ ê³„ì‚° ê³µì‹
int calculateTotalAmount() {
  // ë³´ì¦ê¸ˆ (1íšŒì„±)
  int deposit = depositAmount;
  
  // ì›”ì„¸ (12ê°œì›”ì¹˜)
  int yearlyRent = monthlyRent * 12;
  
  // ê´€ë¦¬ë¹„ (12ê°œì›”ì¹˜)
  int yearlyManagementFee = managementFee * 12;
  
  // ì´ ê¸ˆì•¡ = ë³´ì¦ê¸ˆ + (ì›”ì„¸ Ã— 12) + (ê´€ë¦¬ë¹„ Ã— 12)
  return deposit + yearlyRent + yearlyManagementFee;
}
```

ì´ ìƒì„¸ ë‚´ìš© ì…ë ¥ í”„ë¡œì„¸ìŠ¤ëŠ” ë“±ê¸°ë¶€ë“±ë³¸ ë°ì´í„°ë¥¼ ê¸°ë°˜ìœ¼ë¡œ í•œ ìë™ ì…ë ¥ë¶€í„° ì‚¬ìš©ì ì •ì˜ ì…ë ¥, ì‹¤ì‹œê°„ ê¸ˆì•¡ ê³„ì‚°, ê±°ë˜ ìœ í˜•ë³„ ë¡œì§ ì²˜ë¦¬, ìµœì¢… ì œì¶œê¹Œì§€ ëª¨ë“  ë‹¨ê³„ë¥¼ ì²´ê³„ì ìœ¼ë¡œ ì²˜ë¦¬í•˜ë©°, WhatHouse ê³„ì•½ì„œ í…œí”Œë¦¿ê³¼ì˜ ì—°ë™ì„ í†µí•´ ì „ë¬¸ì ì¸ ê³„ì•½ì„œ ì‘ì„±ì„ ì§€ì›í•©ë‹ˆë‹¤. 